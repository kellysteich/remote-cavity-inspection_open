#==================================================================================================================
#
# Project:	Baseline MPC for Firefly.
#
# function:	MPC Position controller and Kalman Filter parameters.
#
# Author:	Mina Kamel	mina.kamel@ethz.ch
#
# Ge:nerated:	03-Apr-2015 13:11:59
#
#==================================================================================================================

## Controller Parameters:
controller:
  mass: 1.628
  n_state : 8
  n_input : 3
  n_measurement : 6
  n_disturbance : 3
# A : [ 1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,-0.000482 ,0.000000 ,0.000000 ,-0.095709 ,0.000000 ,0.951758 ,0.000000 ,0.000482 ,0.000000 ,0.000000 ,0.095540 ,0.000000 ,0.000000 ,0.000000 ,0.948360]
  A : [ 1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,-0.000486 ,0.000000 ,0.000000 ,-0.096839 ,0.000000 ,0.974491 ,0.000000 ,0.000486 ,0.000000 ,0.000000 ,0.096842 ,0.000000 ,0.000000 ,0.000000 ,0.974556]
# B : [ 0.000000 ,-0.000007 ,0.000000 ,0.000000 ,-0.001961 ,0.000000 ,0.039655 ,0.000000 ,0.000007 ,0.000000 ,0.000000 ,0.001944 ,0.000000 ,0.000000 ,0.000000 ,0.039288 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000]
  B : [ 0.000000 ,-0.000003 ,0.000000 ,0.000000 ,-0.001043 ,0.000000 ,0.021172 ,0.000000 ,0.000003 ,0.000000 ,0.000000 ,0.001003 ,0.000000 ,0.000000 ,0.000000 ,0.020355 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000]
  Bd : [ 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000]
  C : [ 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  drag_coefficients : [ 0.010000 , 0.010000 , 0.010000]

  command_position_filter_time_constant : 0.2
  command_velocity_filter_time_constant : 0.2
  height_error_integration_limit : 25

# dynamic config default values:
  q_x : 150
  q_y : 150
  q_z : 200

  q_vx : 20
  q_vy : 20
  q_vz : 25

  q_roll  : 25
  q_pitch : 25

  r_roll  : 30
  r_pitch : 30
  r_thrust : 30

  r_droll  : 0.3
  r_dpitch : 0.3
  r_dthrust: 0.0025

  roll_max  : deg(25.0)
  pitch_max : deg(25.0)
  thrust_max: 5

  K_yaw : 1.8
  Ki_height : 0.0

  use_xy_offset_free : true
  use_height_error_integrator : false
  use_KF_estimated_state : false

## Kalman Filter Parameters:
observer:
  calibration_duration : 5 #sec
  n_measurement : 9
  P_0 :  [ 0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000]
  Q :  [ 0.010000 ,0.010000 ,0.010000 ,0.025000 ,0.025000 ,0.025000 ,0.015000 ,0.015000 ,0.015000 ,0.020000 ,0.020000 ,0.020000 ,0.010000 ,0.010000 ,0.010000 ,0.010000 ,0.010000 ,0.010000]
  R :  [ 0.001000 ,0.001000 ,0.001000 ,0.001200 ,0.001200 ,0.001200 ,0.010000 ,0.010000 ,0.010000]
# F :  [ 1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.994557 ,0.000000 ,0.000000 ,-1.050464 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.995473 ,0.000000 ,0.000000 ,-0.882369 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.998789 ,0.000000 ,0.000000 ,-0.238393 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.008994 ,0.000000 ,0.000000 ,0.804041 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.009263 ,0.000000 ,0.000000 ,0.854800 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.009536 ,0.000000 ,0.000000 ,0.908200 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000047 ,0.000000 ,0.000000 ,0.008994 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000048 ,0.000000 ,0.000000 ,0.009263 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000048 ,0.000000 ,0.000000 ,0.009536 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000]
  F :  [ 1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.999900 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.997584 ,0.000000 ,0.000000 ,-0.474851 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.997589 ,0.000000 ,0.000000 ,-0.473533 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.998789 ,0.000000 ,0.000000 ,-0.238393 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.009500 ,0.000000 ,0.000000 ,0.900868 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.009474 ,0.000000 ,0.000000 ,0.895783 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.009536 ,0.000000 ,0.000000 ,0.908200 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000050 ,0.000000 ,0.000000 ,0.010000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000048 ,0.000000 ,0.000000 ,0.009500 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000048 ,0.000000 ,0.000000 ,0.009474 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000048 ,0.000000 ,0.000000 ,0.009536 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,0.000000 ,1.000000]
  drag_coefficients : [ 0.010000 , 0.010000 , 0.010000]
  omega_limit :  [ 3.000000 ,3.000000 ,2.000000]
  external_forces_limit :  [ 15.000000 ,15.000000 ,20.0000000]      #m/s^2
  external_moments_limit :  [ 20.000000 ,20.000000 ,20.000000]  #rad/s^2
  #Data from SysID
  # roll_omega : 10.807000
  # roll_damping : 0.980000
  # roll_gain : 0.747000
  # pitch_omega : 9.760000
  # pitch_damping : 0.778000
  # pitch_gain : 0.658000
  roll_omega : 7.07
  roll_damping : 0.72
  roll_gain : 0.8
  pitch_omega : 7.07
  pitch_damping : 0.76
  pitch_gain : 0.84
  yaw_omega : 5.000000
  yaw_damping : 0.950000
  yaw_gain : 1.000000
